<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact</title>

    <link rel="stylesheet" href="CSS/normalize.css">

    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css">

    <link rel="stylesheet" href="CSS/style.css">

    <link href="https://fonts.googleapis.com/css2?family=Open+Sans+Condensed:wght@300&display=swap" rel="stylesheet">

</head>
<body>
    <header>
        <div id="header"></div>
    </header>
    <main>
        <section>
            <div id="menu"></div>
        </section>
        <section>
            <div class="contact-container">
                <div class="form">
                    <center>
                        <h1 style="color: #44D62C; font-size: 42px;">RAZER SUPPORT</h1>
                        <h2>Contact us!</h2>
                        <div class="errorsBox" id="errorMessages"></div>
                        <form id="contactForm" action="/" method="GET">
                            <label for="name">Name*:</label>
                            <input type="text" name="" id="name" placeholder="Moscoso Maximiliano" >
                            <label for="email">Email*:</label>
                            <input type="email" name="" id="email" placeholder="name@mail.com" >
                            <label for="phone">Phone*:</label>
                            <input type="text" name="" id="business" placeholder="123456789" >
                            <label for="message">Message*:</label>
                            <textarea name="" id="message" cols="30" rows="10" placeholder="Some text"></textarea>
                            <center><input type="submit" value="Submit"></center>
                        </form>
                        <h3>All fields are requiered!</h3>
                    </center>
                </div>
                <div class="map">
                    <h1>Attention schedule</h1>
                    <h2>Monday to Saturday: 09:30-20:00</h2>
                    <h2>Sundays: 09:30-13:30 </h2>
                    <h1>Mail</h1>
                    <h2>razer@company.com</h2>
                    <h1>Direction</h1>
                    <h2>2035 Corte Del Nogal Ste 101, Carlsbad, CA 92011</h2>
                    <div class="container-map">
                        <div id="map" style="width: 100%; height: 400px;"></div>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <footer>
        <div id="footer"></div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.3.1.js" integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=" crossorigin="anonymous"></script>

    <script src="include.js"></script>

    

    <script>
        function initMap() {
            // The location of Uluru
            var uluru = {lat: 33.11813, lng: -117.2786};
            // The map, centered at Uluru
            var map = new google.maps.Map(
                document.getElementById('map'), {zoom: 8, center: uluru});
            // The marker, positioned at Uluru
            var marker = new google.maps.Marker({position: uluru, map: map});
            }

            const name = document.getElementById('name');
            const email = document.getElementById('email');
            const business = document.getElementById('business');
            const message = document.getElementById('message');

            const form = document.getElementById('contactForm');

            const errorMessages = document.getElementById('errorMessages');

            const ck_alphanumerics = /^[A-Za-z0-9-]/;

            form.addEventListener('submit', (e) => {
                let messages = [];

                if(name.value === '' || name.value == null)
                    messages.push("Name field its empty");

                if(name.value.length < 4)
                    messages.push("The name its too short");

                if(name.value.length > 30)
                    messages.push("The name its too long");
                
                if(ck_alphanumerics.test( name.value.length ))
                {
                    messages.push("The name can only contain alphanumeric characters");
                }


                if(email.value === '' || email.value == null)
                    messages.push("Email field its empty");

                if(!validateEmail(email.value))
                {
                    messages.push("Enter a valid mail")
                }

                if(business.value === '' || business.value == null)
                    messages.push("Business field its empty");

                if(business.value.length > 20)
                {
                    messages.push("Business message cannot be more than 20 characters")
                }

                if(message.value === '' || message.value == null)
                    messages.push("Message field its empty");

                if(message.value.length < 10)
                {
                    messages.push("Message its too short")
                }

                if(message.value.length > 100)
                {
                    messages.push("Message its too long")
                }

                var formatTextError = "<ul>"
                if(messages.length > 0) {
                    e.preventDefault();
                    for (let index = 0; index < messages.length; index++) {
                        const element = messages[index];

                        formatTextError += "<li>" + element + "</li>";
                        
                    }
                    
                    errorMessages.innerHTML = formatTextError;
                    
                }
                
            });

            function validateEmail(email) 
            {
                var re = /\S+@\S+\.\S+/;
                return re.test(email);
            }        
    </script>
    
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAB5gWj09Kgwjf9Jw1GU0rbeNh8IrkFyhQ&callback=initMap"
    type="text/javascript"></script>

</body>
</html>